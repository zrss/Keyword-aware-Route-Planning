# A method to divide graph into small part

## Process

reference by VLDB_2012: Keyword-aware Optimal Route Search 

区域发现算法

核心思想，将图分块，块与块之间通过portal点相连

当然会有精度损失，损失多少呢，原文有复杂的公式推导

Part 1. **索引构建阶段**

1. 分图之后，对子图作邻接矩阵，求最短路径
2. 各个节点所在的子图标号，存储在内存中

Part 2. **内存索引结构设计**

1. 内存中固定存储一定数量的子图
2. 当所需要的子图不在内存中时，将最近最少使用的子图换出，从文件中读取所需子图索引，加载到内存中

Part 3. **计算最短路径阶段**

1. 给出两个节点标号[i, j]，求i到j的距离
2. 若i在子图内部，则依次遍历该子图的portal节点
3. 若portal节点连通的子图中不存在j节点，则遍历子图中的portal节点相应的子图
4. 递归搜索，直到找到

## Performance

1. 邻接矩阵全图，2G内存，能处理20,000个节点
2. 区域发现分图算法，2G内存，因为实验数据的限制，最多处理到了260,000个节点